# DDDæ¶æ„é‡æ„å®Œæˆè¯´æ˜

## âœ… é‡æ„å®Œæˆ

æ‚¨çš„é¡¹ç›®å·²æˆåŠŸé‡æ„ä¸ºDDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰æ¶æ„ï¼

## ğŸ“ æ–°çš„é¡¹ç›®ç»“æ„

### åç«¯ï¼ˆBackendï¼‰- 4å±‚æ¶æ„

```
backend/
â”œâ”€â”€ interfaces/              # ç”¨æˆ·æ¥å£å±‚ - å¤„ç†HTTPè¯·æ±‚
â”‚   â”œâ”€â”€ controllers/         # APIæ§åˆ¶å™¨
â”‚   â””â”€â”€ dto/                 # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚
â”œâ”€â”€ application/             # åº”ç”¨å±‚ - ä¸šåŠ¡æµç¨‹ç¼–æ’
â”‚   â”œâ”€â”€ services/            # åº”ç”¨æœåŠ¡
â”‚   â””â”€â”€ use_cases/           # ç”¨ä¾‹
â”‚
â”œâ”€â”€ domain/                  # é¢†åŸŸå±‚ - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ models/              # é¢†åŸŸæ¨¡å‹ï¼ˆå®ä½“ã€å€¼å¯¹è±¡ï¼‰
â”‚   â”œâ”€â”€ repositories/        # ä»“å‚¨æ¥å£
â”‚   â””â”€â”€ services/            # é¢†åŸŸæœåŠ¡
â”‚
â””â”€â”€ infrastructure/          # åŸºç¡€è®¾æ–½å±‚ - æŠ€æœ¯å®ç°
    â”œâ”€â”€ persistence/         # æ•°æ®æŒä¹…åŒ–
    â”œâ”€â”€ external_apis/       # å¤–éƒ¨API
    â””â”€â”€ config/              # é…ç½®ç®¡ç†
```

### å‰ç«¯ï¼ˆFrontendï¼‰- åˆ†ç¦»æ¶æ„

```
frontend/
â”œâ”€â”€ css/
â”‚   â””â”€â”€ styles.css           # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ js/
â”‚   â””â”€â”€ app.js               # ä¸»åº”ç”¨è„šæœ¬
â””â”€â”€ index.html               # HTMLç»“æ„
```

## ğŸ”„ ä¸»è¦å˜æ›´

### åç«¯å˜æ›´

1. **app.py** - å·²æ›´æ–°ä¸ºDDDæ¶æ„ç‰ˆæœ¬
   - åŸæ–‡ä»¶å·²å¤‡ä»½ä¸º `backend/app.py.old`
   - æ–°æ–‡ä»¶ä½¿ç”¨æ§åˆ¶å™¨å’Œä¾èµ–æ³¨å…¥

2. **é…ç½®åˆ†ç¦»** - æ‰€æœ‰é…ç½®ç§»è‡³ `infrastructure/config/`
   - `database_config.py` - æ•°æ®åº“é…ç½®
   - `api_config.py` - APIé…ç½®
   - `app_config.py` - åº”ç”¨é…ç½®

3. **ä¸šåŠ¡é€»è¾‘é‡æ„**
   - è‚¡ç¥¨åˆ†ç»„ï¼š`domain/models/stock.py`
   - Kçº¿æ•°æ®ï¼š`domain/models/kline.py`
   - å‘¨æœŸç®¡ç†ï¼š`domain/services/period_service.py`

4. **ä»“å‚¨æ¨¡å¼å®ç°**
   - æ¥å£å®šä¹‰ï¼š`domain/repositories/`
   - å…·ä½“å®ç°ï¼š`infrastructure/persistence/`

### å‰ç«¯å˜æ›´

1. **index.html** - HTMLç»“æ„ç®€åŒ–
   - åŸæ–‡ä»¶å·²å¤‡ä»½ä¸º `frontend/index.html.old`
   - CSSå’ŒJSå·²åˆ†ç¦»åˆ°ç‹¬ç«‹æ–‡ä»¶

2. **æ ·å¼åˆ†ç¦»** - `frontend/css/styles.css`
   - æ‰€æœ‰CSSæ ·å¼é›†ä¸­ç®¡ç†

3. **è„šæœ¬åˆ†ç¦»** - `frontend/js/app.js`
   - æ‰€æœ‰JavaScriptä»£ç ç‹¬ç«‹æ–‡ä»¶

## ğŸš€ è¿è¡Œæ–¹å¼

### å¯åŠ¨åç«¯

```bash
cd backend
python app.py
```

æˆ–ä½¿ç”¨ç°æœ‰çš„å¯åŠ¨è„šæœ¬ï¼š
```bash
start.bat  # Windows
start.sh   # Linux/Mac
```

### è®¿é—®å‰ç«¯

æµè§ˆå™¨æ‰“å¼€ï¼š`http://localhost:5000`

## ğŸ“š æ¶æ„ä¼˜åŠ¿

### 1. ç”¨æˆ·æ¥å£å±‚ï¼ˆInterfacesï¼‰
- âœ¨ APIè·¯ç”±æ¸…æ™°
- âœ¨ ç»Ÿä¸€çš„å“åº”æ ¼å¼
- âœ¨ æ§åˆ¶å™¨èŒè´£å•ä¸€

### 2. åº”ç”¨å±‚ï¼ˆApplicationï¼‰
- âœ¨ ä¸šåŠ¡æµç¨‹ç¼–æ’
- âœ¨ äº‹åŠ¡ç®¡ç†
- âœ¨ æ˜“äºç†è§£å’Œç»´æŠ¤

### 3. é¢†åŸŸå±‚ï¼ˆDomainï¼‰
- âœ¨ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å°è£…
- âœ¨ ç‹¬ç«‹äºæŠ€æœ¯å®ç°
- âœ¨ ä¾¿äºå•å…ƒæµ‹è¯•

### 4. åŸºç¡€è®¾æ–½å±‚ï¼ˆInfrastructureï¼‰
- âœ¨ æŠ€æœ¯ç»†èŠ‚éš”ç¦»
- âœ¨ æ˜“äºæ›¿æ¢å’Œæ‰©å±•
- âœ¨ é…ç½®é›†ä¸­ç®¡ç†

### å‰ç«¯åˆ†ç¦»
- âœ¨ ä»£ç ç»„ç»‡æ¸…æ™°
- âœ¨ æ˜“äºç»´æŠ¤å’Œæ›´æ–°
- âœ¨ æ”¯æŒç¼“å­˜ä¼˜åŒ–

## ğŸ“ æ–‡ä»¶æ˜ å°„å…³ç³»

### æ—§æ–‡ä»¶ â†’ æ–°æ–‡ä»¶

| æ—§ä½ç½® | æ–°ä½ç½® | è¯´æ˜ |
|--------|--------|------|
| `backend/app.py` | `backend/app.py` (å·²æ›´æ–°) | ä¸»å…¥å£æ–‡ä»¶ |
| `config.py` | `infrastructure/config/` | é…ç½®æ–‡ä»¶åˆ†ç¦» |
| - | `domain/models/stock.py` | è‚¡ç¥¨é¢†åŸŸæ¨¡å‹ |
| - | `domain/models/kline.py` | Kçº¿é¢†åŸŸæ¨¡å‹ |
| - | `interfaces/controllers/` | APIæ§åˆ¶å™¨ |
| - | `application/services/` | åº”ç”¨æœåŠ¡ |
| `frontend/index.html` | `frontend/index.html` (å·²æ›´æ–°) | HTMLç»“æ„ |
| `frontend/index.html` (CSSéƒ¨åˆ†) | `frontend/css/styles.css` | æ ·å¼æ–‡ä»¶ |
| `frontend/index.html` (JSéƒ¨åˆ†) | `frontend/js/app.js` | è„šæœ¬æ–‡ä»¶ |

## ğŸ”™ å›æ»šæ–¹æ¡ˆ

å¦‚æœéœ€è¦æ¢å¤åˆ°æ—§ç‰ˆæœ¬ï¼š

### åç«¯å›æ»š
```powershell
cd backend
Copy-Item app.py.old app.py -Force
```

### å‰ç«¯å›æ»š
```powershell
cd frontend
Copy-Item index.html.old index.html -Force
```

## ğŸ“– æ›´å¤šæ–‡æ¡£

è¯¦ç»†æ¶æ„è¯´æ˜è¯·æŸ¥çœ‹ï¼š`backend/README_DDD.md`

## ğŸ‰ å®ŒæˆçŠ¶æ€

âœ… åˆ›å»ºDDDæ¶æ„çš„ç›®å½•ç»“æ„ï¼ˆ4å±‚ï¼‰
âœ… é‡æ„åŸºç¡€è®¾æ–½å±‚ï¼ˆæ•°æ®åº“è¿æ¥ã€å¤–éƒ¨APIã€é…ç½®ï¼‰
âœ… é‡æ„é¢†åŸŸå±‚ï¼ˆé¢†åŸŸæ¨¡å‹ã€ä»“å‚¨æ¥å£ã€é¢†åŸŸæœåŠ¡ï¼‰
âœ… é‡æ„åº”ç”¨å±‚ï¼ˆåº”ç”¨æœåŠ¡ã€ç”¨ä¾‹ç¼–æ’ï¼‰
âœ… é‡æ„ç”¨æˆ·æ¥å£å±‚ï¼ˆAPIæ§åˆ¶å™¨ã€DTOï¼‰
âœ… åˆ†ç¦»å‰ç«¯æ–‡ä»¶ï¼ˆHTMLã€CSSã€JSï¼‰
âœ… æ›´æ–°ä¸»å…¥å£æ–‡ä»¶app.py

**é‡æ„å®Œæˆï¼é¡¹ç›®ç°å·²é‡‡ç”¨æ ‡å‡†çš„DDDå››å±‚æ¶æ„ã€‚**

